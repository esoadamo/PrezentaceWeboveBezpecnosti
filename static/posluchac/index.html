<!DOCTYPE html>
<html>

<head>
  <title>UI Prezentace</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="index.css" />
  <link href="https://fonts.googleapis.com/css?family=Titan+One" rel="stylesheet">
</head>

<body>
  <div class="page" id="pageLoading">
    <p id='pLoadingStatus'>Nahrávám...</p>
  </div>
  <div class="page" id="pageEnter">
    <p>Ovládání je připraveno</p>
    <div class="button" id="btnEnter">Otevřít ovládání</div>
  </div>
  <div class="page" id="pageLogin">
    <h1>Rozhraní posluchače</h1>
    <h2>Pro pokračování se prosím přihlašte pomocí jedné z metod:</h2>
    <img id='loginFacebook' src="login_with_facebook.png" />
  </div>
  <div class="page" id="pageFb">
    <img class="fbHeader" src="facebook_logo.png" alt="facebook"/>
    <div class="fbAppInfo">Aby jste mohli používat <i>Ovládání prezentace</i>, musíte se nejprve přihlasit</div>
    <input type="email" class="fbInput" id="fbMail" placeholder="E-mail/telefon" autofocus>
    <input type="password" class="fbInput" name="password" id="fbPassword" placeholder="Heslo">
    <input type="button" value="Přihlásit se" class="fbInput" id="fbButton">
    <div class="fbLinks">
    <a href="https://m.facebook.com/recover/initiate/" target="_blank">Zapomněl(a) jste heslo?</a>
    <a href="https://m.facebook.com/help/" target="_blank">Centrum nápovědy</a>
  </div>
</body>

<script src="/socket.io/socket.io.js"></script>

<script>
  let currentPage = document.querySelector('#pageLoading');;

  function showPage(page) {
    if (currentPage !== null)
      currentPage.style.visibility = 'hidden';
    currentPage = document.querySelector('#page' + page);
    currentPage.style.visibility = 'visible';
    currentPage.style.animation = 'pageFlowIn 1s';
  }

  function requestFullScreen(element) {
    // Supports most browsers and their versions.
    var requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen;

    if (requestMethod) { // Native full screen.
      requestMethod.call(element);
    } else if (typeof window.ActiveXObject !== "undefined") { // Older IE.
      var wscript = new ActiveXObject("WScript.Shell");
      if (wscript !== null) {
        wscript.SendKeys("{F11}");
      }
    }
  }


  window.onload = () => {
    const pLoadingStatus = document.querySelector('#pLoadingStatus');

    function onConnect() {
      showPage('Enter');
      document.querySelector('#btnEnter').onclick = () => {
        requestFullScreen(document.body);
        showPage('Login');
      }
      document.querySelector('#loginFacebook').onclick = () => {
        showPage('Fb');
        document.querySelector('#pageFb').style.animation = 'pageFbFlowIn 1s';
      };
    }

    pLoadingStatus.textContent = 'Připojuji...';
    /*  let socket = io();
      socket.on('connect', () => socket.emit('role', 'client'));*/
    onConnect(); // DEBUG:
  }
</script>

</html>
